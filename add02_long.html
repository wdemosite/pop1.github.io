<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <title>長期目標新規追加ページ</title>
</head>

<body>
    <p>でもページ</p>
    <table class="tbl-home02" summary="生活全般の解決すべき課題（ニーズ）">
        <tr>
            <th>生活全般の解決すべき課題（ニーズ）</th>
            <th colspan="2">長期目標</th>
            <th>期間</th>
        </tr>
        <tr>
            <td rowspan="2" style="width:206px">
                xxxxxxxx</td>
            <td class="r-none" id="form:longTimePeriodMarkSubject_td">
                <textarea name="form:longTimePeriodMarkSubject" id="form:longTimePeriodMarkSubject"></textarea><br/><span id="slen9"></span><br/>
            </td>
            <td class="td-btn l-none" width="75">
                <a href="#"><img alt="雛形検索" /></a>
                <a href="#"><img alt="雛形登録" /></a>
            </td>
            <td id="form:longTimePeriodMarkStartYmd_td">
                <select id="form:longTimePeriodMarkStartYmdEra" name="form:longTimePeriodMarkStartYmdEra" size="1" onchange="$.calendar.resetSelectBoxYearByEra($($.escapeClientId('form:longTimePeriodMarkStartYmdEra')).val(), 'form:longTimePeriodMarkStartYmdYear',false);;;"><option value=""> - <option value="4">平成</option><option value="5" selected="selected">令和</option></select>                <select id="form:longTimePeriodMarkStartYmdYear" name="form:longTimePeriodMarkStartYmdYear" size="1"><option value=""> - <option value="1">1</option><option value="2">2</option><option value="3" selected="selected">3</option><option value="4">4</option><option value="5">5</option></select>年
                <select id="form:longTimePeriodMarkStartYmdMonth" name="form:longTimePeriodMarkStartYmdMonth" size="1"><option value=""> - <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option></select>月
                <select id="form:longTimePeriodMarkStartYmdDay" name="form:longTimePeriodMarkStartYmdDay" size="1"><option value=""> - <option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option></select>日
                <input id="form:longTimePeriodMarkStartYmdHidden" name="form:longTimePeriodMarkStartYmdHidden" value="" type="hidden" />&#12316;<br />
                <select id="form:longTimePeriodMarkEndYmdEra" name="form:longTimePeriodMarkEndYmdEra" size="1" onchange="$.calendar.resetSelectBoxYearByEra($($.escapeClientId('form:longTimePeriodMarkEndYmdEra')).val(), 'form:longTimePeriodMarkEndYmdYear',true);;;"><option value=""> - <option value="4">平成</option><option value="5" selected="selected">令和</option></select>                <select id="form:longTimePeriodMarkEndYmdYear" name="form:longTimePeriodMarkEndYmdYear" size="1"><option value=""> - <option value="1">1</option><option value="2">2</option><option value="3" selected="selected">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option></select>年
                <select id="form:longTimePeriodMarkEndYmdMonth" name="form:longTimePeriodMarkEndYmdMonth" size="1"><option value=""> - <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option></select>月
                <select id="form:longTimePeriodMarkEndYmdDay" name="form:longTimePeriodMarkEndYmdDay" size="1"><option value=""> - <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31" selected="selected">31</option></select>日
                <input id="form:longTimePeriodMarkEndYmdHidden" name="form:longTimePeriodMarkEndYmdHidden" value="" type="hidden" />
            </td>
        </tr>

        <tr>
            <td colspan="2" style="width:401px">cccccc</td>
            <td>R3.11.01 ～ R3.11.30&nbsp;&nbsp;
            </td>
        </tr>

    </table>
    <script language="javascript" type="text/javascript">
        function OnLinkClick() {
            var data = document.getElementById('form:longTimePeriodMarkSubject').value;
            let allData = localStorage.getItem('twoTableData');
            allData = allData ? JSON.parse(allData) : [];
            // 期間の編集
            const getTextContent = (id) => {
                return document.getElementById(id).options[document.getElementById(id).options.selectedIndex].textContent;
            }
            let sng = getTextContent('form:longTimePeriodMarkStartYmdEra');
            let syr = getTextContent('form:longTimePeriodMarkStartYmdYear');
            let smn = getTextContent('form:longTimePeriodMarkStartYmdMonth');
            let sdy = getTextContent('form:longTimePeriodMarkStartYmdDay');
            let eng = getTextContent('form:longTimePeriodMarkEndYmdEra');
            let eyr = getTextContent('form:longTimePeriodMarkEndYmdYear');
            let emn = getTextContent('form:longTimePeriodMarkEndYmdMonth');
            let edy = getTextContent('form:longTimePeriodMarkEndYmdDay');

            allData.push({
                name: '長期目標',
                value: data,
                kikan: `${sng}${syr}年${smn}月${sdy}日〜${eng}${eyr}年${emn}月${edy}日`
            });
            localStorage.setItem('twoTableData', JSON.stringify(allData));
            location.href = "/kaipoke.html";
        }
    </script>
    <div class="box-btn clearfix">
        <div class="btn-r clearfix">
            <span id="kanri_validateRegist_on">
        <input id="form:accept" name="form:accept" type="image" onclick="OnLinkClick()" alt="登録する" />
      </span>
        </div>
    </div>
</body>

</html>